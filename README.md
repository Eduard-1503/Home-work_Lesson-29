ДЗ №19: Сценарии iptables

Что нужно сделать?
  - реализовать knocking port
  - centralRouter может попасть на ssh inetrRouter через knock скрипт пример в материалах
  - добавить inetRouter2, который виден(маршрутизируется (host-only тип сети для виртуалки)) с хоста или форвардится порт через локалхост
  - запустить nginx на centralServer
  - пробросить 80й порт на inetRouter2 8080
  - дефолт в инет оставить через inetRouter
  
                              Схема стендовой сети 
  
                                                                              _______________ 
                                                                             |               |
                                                                   /-------> |  inetRouter-1 |
                                                                 /           |_______________|
           _______________           _______________           /
          |               |         |               | -------/         
          | centralServer |-------> | centralRouter |
          |_______________|         |_______________| -------\
                                                               \              _______________
                                                                 \           |               |
                                                                   \-------> |  inetRouter-2 |
                                                                             |_______________|
          
  
  
  На проверку представляю Vagrantfile, который разворачивает один сервер и три роутера (для добства проверки задания с пробросом порта на inetRouter-2 пробрасывается порт 8080 с гостевой машины на порт 8080 хоста), playbook.yaml с помощью которого производится доустановка необходимых пакетов и конфигурация сервера и роутеров, а также подготовленные конфигурационные файлы  и скрипт knock.sh (скрипт заливается на centralRouter в директорию /root/) для проверки реализации knocking port. Для проверки реализации knocking port необходимо зайти на centralRouter, получить привилегии супер пользователя командой sudo -i, запустить команду "ssh 192.168.255.1", убедиться что сервер на 22 порту не отвечает, нзапустить скрипт с параметрами "./knock.sh 192.168.255.1 8881 7777 9991", и повторно запустить команду "ssh 192.168.255.1", чтобы убедиться что сервер на 22 порту ответил (предложил ввести пароль).
